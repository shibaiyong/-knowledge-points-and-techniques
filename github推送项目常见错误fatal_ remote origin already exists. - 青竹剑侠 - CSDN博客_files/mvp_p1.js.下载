var mediav=window.mediav||{},mvproduct=window.mvproduct||{};!function(){function Slider(a,b,c){var a=this.root=util.G(a);this.slider=util.getByClass("mv_info_list",a)[0],this.infoItem=util.getByClass("mv_info_item",a),this.item=util.getByClass("mv_item",a),this.timeout=5e3,this.duration=1==c?3e4:0,this.pointer=0,this.scrollNum=0,this.direction="top",this.blockWidth=b||0,this.addMouseEvent(),this.invoke(0)}mvproduct.makep1=function(a,b,c,d,e,f,g){var j,k,h=null!=e?e:Math.random().toString().slice(2),m=(a.length,"outerdiv_"+Math.floor(100*Math.random()+1)+"_"+e),n=window["mvext_"+e]&&window["mvext_"+e].framing&&1==window["mvext_"+e].framing?1:0,o=null!=g?g:0,p="";if("max"==o)var q="s6a9c455f9f";else var q="s18bc455e9e";var r=[{desc:"自动煎饼机",price:9.9,pid:77880,curl:"https://www.so.com/s?src=lm&q=自动煎饼机&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t019317e0acbd737ade.jpg"},{desc:"装修木工材料",price:9.9,pid:43191,curl:"https://www.so.com/s?src=lm&q=装修木工材料&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t0122f0b93972a6bc0f.jpg"},{desc:"中式汉堡加盟",price:9.9,pid:135574,curl:"https://www.so.com/s?src=lm&q=中式汉堡加盟&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t0189f67f5463d09001.jpg"},{desc:"男夹克外套",price:9.9,pid:2498,curl:"https://www.so.com/s?src=lm&q=男夹克外套&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01ce75e956bb149df2.jpg"},{desc:"真皮羽绒服男",price:9.9,pid:51050,curl:"https://www.so.com/s?src=lm&q=真皮羽绒服男&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t015071b45efd17d54d.jpg"},{desc:"长款羽绒服女",price:9.9,pid:72736,curl:"https://www.so.com/s?src=lm&q=长款羽绒服女&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01299fa1715e5cd975.jpg"},{desc:"麻辣烫加盟",price:9.9,pid:344,curl:"https://www.so.com/s?src=lm&q=麻辣烫加盟&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01219c36703396719a.jpg"},{desc:"羊绒外套女短款",price:9.9,pid:23881,curl:"https://www.so.com/s?src=lm&q=羊绒外套女短款&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t017107cbf43748a786.jpg"},{desc:"羊绒大衣",price:9.9,pid:13339,curl:"https://www.so.com/s?src=lm&q=羊绒大衣&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t012a3cd0b331450b17.jpg"},{desc:"雪纺长袖上衣",price:9.9,pid:132893,curl:"https://www.so.com/s?src=lm&q=雪纺长袖上衣&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01fdd119350ee10a1d.jpg"},{desc:"双面羊绒大衣女",price:9.9,pid:24423,curl:"https://www.so.com/s?src=lm&q=双面羊绒大衣女&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01770b3c946b201e9f.jpg"},{desc:"一鸣真鲜奶吧",price:9.9,pid:138894,curl:"https://www.so.com/s?src=lm&q=一鸣真鲜奶吧&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01460baa18a3930b9f.jpg"},{desc:"轻薄羽绒服女",price:9.9,pid:46034,curl:"https://www.so.com/s?src=lm&q=轻薄羽绒服女&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01f04b296010cd9edd.jpg"},{desc:"皮毛一体皮衣",price:9.9,pid:97089,curl:"https://www.so.com/s?src=lm&q=皮毛一体皮衣&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01ea3bf45c2da0cfca.jpg"},{desc:"欧普集成吊顶",price:9.9,pid:13129,curl:"https://www.so.com/s?src=lm&q=欧普集成吊顶&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/277_198_100/t019dcf86859bc75371.jpg"},{desc:"女羽绒服短款新",price:9.9,pid:125634,curl:"https://www.so.com/s?src=lm&q=女羽绒服短款新&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01826bc848dc2cafcd.jpg"},{desc:"女毛呢外套",price:9.9,pid:5408,curl:"https://www.so.com/s?src=lm&q=女毛呢外套&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t017b5404f3b267caf6.jpg"},{desc:"农村致富好项目",price:9.9,pid:25701,curl:"https://www.so.com/s?src=lm&q=农村致富好项目&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t01f25c1cf21430d750.jpg"},{desc:"耐克夹克外套男",price:9.9,pid:60368,curl:"https://www.so.com/s?src=lm&q=耐克夹克外套男&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t0109f854bb18519faa.jpg"},{desc:"美国房产投资",price:9.9,pid:1058,curl:"https://www.so.com/s?src=lm&q=美国房产投资&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t0175b627880ae2fdfc.jpg"},{desc:"玛瑙手镯的鉴别",price:9.9,pid:147618,curl:"https://www.so.com/s?src=lm&q=玛瑙手镯的鉴别&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t0186af5c33f2886dce.jpg"},{desc:"老年代步车",price:9.9,pid:139820,curl:"https://www.so.com/s?src=lm&q=老年代步车&lm_extend=ctype:7&ls="+q,img:"http://p0.qhimg.com/dmsmty/280_200_100/t016e1aa6a1edaea75e.jpg"}];if(r=util.shuffle(r),a={ads:a.ads.concat(r),impurl:a.impurl},!mediav.ad||"stop"!=mediav.ad.status[h]){if(d.slogan&&(d.slogan=util.transferNCR(d.slogan)),j=layout.buildCss(m,b,c,d),layout.appendStyle(j,"mvCss_"+m),impurl=a.impurl,a=util.transferNCR(a.ads),layout.changeData(a,d),d.curl=p||"javascript:void(0);",k=layout.buildHtml(e,m,b,c,a),"dsp"==d.entity)layout.write(e,k,f);else{var s=util.G("mvdiv_"+h);s?(s.innerHTML=k,s.style.display="block"):layout.write(e,k,f)}new Slider(m,layout.blockWidth,n).start(),util.monitorClick(m,p,b,c),util.trackClick(m,a),void 0!=impurl&&util.trackImp(m,a,impurl)}},mvproduct.makep1.version="1.0.2",Slider.prototype={constructor:Slider,start:function(){var a=this;this.intervalId=setInterval(function(){a.next()},this.timeout)},stop:function(){clearInterval(this.intervalId)},invoke:function(a){this.reset(),this.item[a]&&(this.pointer=a||0,this.animateIn(a))},next:function(){this.pointer>=this.item.length-1&&(this.pointer=-1),this.invoke(this.pointer+1),this.scrollNum+=1},addMouseEvent:function(){var a,b,d,f,i=this;for(this.priceMask=util.getByClass("mv_price",this.root),this.infoMask=util.getByClass("mv_item_mask",this.root),this.imgArea=util.getByClass("mv_imgArea",this.root),a=0,b=this.item.length;a<b;a+=1)d=this.item[a],d.index=a,d&&(d.onmouseover=function(a){f=this,i.checkHover(a,this)&&(i.stop(),i.invoke(f.index),i.slider&&i.infoItem[f.index]&&(i.infoItem[f.index].style.display="block"))},d.onmouseout=function(a){i.checkHover(a,this)&&(!i.slider,i.start())});this.slider&&(this.slider.onmouseover=function(a){i.checkHover(a,this)&&i.stop()},this.slider.onmouseout=function(a){i.checkHover(a,this)&&(i.animateDown(),i.start())})},reset:function(){var a,b,d=this.item.length;for(a=0;a<d;a+=1)this.infoMask[a]&&this.priceMask[a]&&(this.infoMask[a].style.display="none",this.priceMask[a].style.display="block",util.removeClass(this.priceMask[a],"active"),util.removeClass(this.imgArea[a],"active")),b=this.infoItem[a],b&&(b.style.display="none")},animateIn:function(a){this.priceMask[a]&&this.infoMask[a]&&(util.addClass(this.priceMask[a],"active"),util.addClass(this.imgArea[a],"active"))},animateOut:function(a){this.priceMask[a]&&this.infoMask[a]&&(this.infoMask[a].style.display="none",util.removeClass(this.priceMask[a],"active"),util.removeClass(this.imgArea[a],"active"))},checkHover:function(a,b){return"mouseover"==this.getEvent(a).type?!(this.contains(b,this.getEvent(a).relatedTarget||this.getEvent(a).fromElement)||(this.getEvent(a).relatedTarget||this.getEvent(a).fromElement)===b):!(this.contains(b,this.getEvent(a).relatedTarget||this.getEvent(a).toElement)||(this.getEvent(a).relatedTarget||this.getEvent(a).toElement)===b)},getEvent:function(a){return a||window.event},contains:function(a,b){return a.contains?a!=b&&a.contains(b):!!(16&a.compareDocumentPosition(b))},animateDown:function(){var a,b={},c={},d=this;!this.animateLoading&&this.slider&&(this.animateLoading=!0,b[this.direction]=a=parseInt(this.slider.style[this.direction])||0,0==a&&(a=this.blockWidth),c[this.direction]=-a,this.animate(this.slider,b,c,200,this.easeOut,function(){d.animateLoading=!1}))},animate:function(a,b,c,d,e,f){var e=e||this.easeOut,g=0,h=setInterval(function(){g+=40;for(var i in b)a.style[i]=e(b[i],c[i],g,d)+"px";g>=d&&(clearInterval(h),f&&f())},40);return function(){clearInterval(h)}},easeOut:function(a,b,c,d){var e=c/d;return Math.ceil(a-(Math.pow(e,2)-2*e)*b)}};var layout={changeData:function(a,b){var h,i,k,c=this.pimgSize?this.pimgSize.width:1,d=this.pimgSize?this.pimgSize.height:1,e=this.pimgSize?this.pimgSize.bWidth:1,f=this.pimgSize?this.pimgSize.bHeight:1,g=!b.currencySymbol||"￥"==b.currencySymbol;for(h=0;h<a.length;h++)b.imgflag&&1==b.imgflag&&(a[h].timg=a[h].pimg||a[h].timg),a[h].timg=a[h].timg||"http://material.mediav.com/product/images/1x1.gif",a[h].pn=a[h].desc,a[h].timg=a[h].img,a[h].curl=a[h].curl1||a[h].curl,a[h].cpurl=a[h].cpurl1||a[h].cpurl||"javascript:void(0)",a[h].price&&(a[h].price=util.fixPrice(a[h].price,g)),a[h].pn&&this.pnLength&&(i=String(a[h].pn),a[h].opn=i,a[h].pn=util.getFixedText(i,this.pnLength,"...")),a[h].width&&a[h].height||(a[h].width=160,a[h].height=160),k=this.pimgResize(a[h],c,d),a[h].swidth=k.width,a[h].sheight=k.height,k=this.pimgResize(a[h],e,f),a[h].bwidth=k.width,a[h].bheight=k.height;return a},pimgResize:function(a,b,c){var f,g,d=parseInt(a.width),e=parseInt(a.height);return d&&e?d/e>b/c?(f=b,g=parseInt(e/d*f)):(g=c,f=parseInt(d/e*g)):(f=b,g=c),{width:f,height:g}},template:function(a,b,c){var a=String(a),d="";return a.replace(/#\{(.+?)\}/g,function(a,e){var f=c?e:e.split("_");try{d=c?isNaN(b[f])?b[f]:b[f]+"px":b[f[0]][f[1]],"[object Function]"===Object.prototype.toString.call(d)&&(d=d(e))}catch(a){}return"undefined"==typeof d?"":d})},write:function(a,b,c){var d=document.getElementById("mvdiv_"+a+"_holder");if(!d)var d=document.createElement("div");var h,i,e=document.getElementsByTagName("script"),f=e.length,g=!1;for(d.id="mvdiv_"+a+"_holder",d.innerHTML=b,i=0;i<f;i++)if(e[i].src&&e[i].src==c){h=e[i],h.parentNode.insertBefore(d,h),g=!0;break}g||document.body.appendChild(d)},appendStyle:function(a,b){var d,c=document.createElement("style");c.type="text/css",c.rel="stylesheet",c.id=b,document.getElementsByTagName("head")[0].appendChild(c),c.styleSheet?c.styleSheet.cssText=a:(d=document.createTextNode(a),c.appendChild(d))},buildHtml:function(a,b,c,d,e){var f=[];return this.data=e,this.verifyWH(this.type,c,d)?(f.push('<div id="banner_'+a+'" style="position:relative;width:'+c+"px;height:"+d+'px;">'),f.push('<div id="'+b+'">'),f.push('<div class="mv_border"></div>'),f.push('<div class="mv_header"><div><span>今日推荐</span></div></div>'),f.push('<div class="mv_outer">'),f.push('<div class="mv_content">'),f.push("<ul>"),f.push(this.buildItem(e.length)),f.push("</ul>"),f.push("</div>"),f.push("</div>"),f.push("</div>"),f.push("</div>"),this.template(f.join(""),e)):"尺寸不合法"},buildInfoList:function(a,b){var c=[],b=Math.min(this.displayNum,b)||0;this.config.currencySymbol||"￥";return c.join("")},buildItem:function(a){var c,b=[],a=a||0;return c=this.buildItemHtml(0,Math.min(this.displayNum,a)),b.push('<li class="mv_slider">'),b.push(c),b.push("</li>"),b.join("")},buildItemHtml:function(a,b){var e,f,c=[],j=(this.config.currencySymbol||"￥",this.config.showvt||0,this.config.slogan||"");for(e=a,f=e+b;e<f;e++){var k=0;e%2===0&&(k=1),c.push('<a class="mv_itemLink '+(1===k?"mv_left":"")+'" href="#{'+e+'_curl}" title="#{'+e+'_opn}" target="_blank">'),c.push('<div class="mv_item">'),c.push('<div class="mv_imgArea">'),c.push('<div class="mv_itemImg">'),c.push('<span></span><img id="#{'+e+'_slot}" class="#{'+e+'_slot}" style="width:#{'+e+"_swidth}px;height:#{"+e+'_sheight}px;" src="#{'+e+'_timg}"/>'),c.push("</div>"),c.push('<div class="mv_price_mask"><div class="mv_price">#{'+e+"_pn}</div></div>"),c.push('<div class="mv_item_mask">'),c.push('<div class="mv_itemBg"></div>'),c.push('<div class="mv_slogan">'+j+"</div>"),c.push("</div>"),c.push("</div></div></a>")}return c.join("")},buildCss:function(a,b,c,d){var g,e=[],f=this.type=this.getLayoutType(b,c),h={bgColor:"#FFFFFF",bdColor:"#eee",bdWidthSize:"2",priceColor:"#fff",fontFamily:"SimSun",sloganColor:"#e4393c",secFrameBgColor:"#E4393C",descColor:"#FFFFFF",itemBdColor:"#eee"},i=this.createCssConfig(b,c,d.bdWidthSize||h.bdWidthSize),j={priceBold:"bold",descBold:"bold",sloganBold:"bold"},k={0:"normal",1:"bold"};this.config=d||{};for(g in h)i[g]=d[g]||h[g];for(var g in j)i[g]=k[d[g]]||j[g];return this.pimgSize={width:i.imgW,height:i.imgH,bWidth:i.bimgW,bHeight:i.bimgH},this.displayNum=i.displayNum,"s"==f?(maskUrl="http://material.mediav.com/product/images/mask_112x112.png",this.config.slogan=this.config.slogan&&util.getFixedText(this.config.slogan,6,"")):(maskUrl="http://material.mediav.com/product/images/mask_86x86.png",this.config.slogan=this.config.slogan&&util.getFixedText(this.config.slogan,5,"")),i?(this.fixQuirks(i),e.push("#"+a+"{position:relative;font-size:12px;margin:0;padding:0;display:block;float:none;-webkit-text-size-adjust:none;border-spacing:0px;}"),e.push("#"+a+" *{background:none;margin:0;padding:0;}"),e.push("#"+a+" div{display:block;float:none;}"),e.push("#"+a+" a{text-decoration:none;cursor:pointer;display:block;}"),e.push("#"+a+" a{outline:none;blr:expression(this.onFocus=this.blur());}"),e.push("#"+a+" a:focus {outline:none;}"),e.push("#"+a+" img{border:none;display:inline;}"),e.push("#"+a+" ul{list-style:none;}"),e.push("#"+a+" div:after{display:none;}"),e.push("#"+a+" div:before{display:none;}"),e.push("#"+a+"{width:#{z1};height:#{z2};background-color:#{bgColor};border:#{a3} solid #{bdColor};font-family:#{fontFamily}}"),e.push("#"+a+" .mv_content, #"+a+" .mv_outer{width:#{d1};height:#{d2};position:relative;overflow:hidden;display:inline-block;*display: inline;*zoom:1;}"),e.push("#"+a+" .mv_border{width:#{e5};height:#{e6};position:absolute;left:0px;top:0px;border:#{a4} solid #{bdColor};}"),e.push("#"+a+" .mv_header{float:left;font-size:#{y3};width:#{y1};height:#{y2};display:inline-block;*display: inline;*zoom:1;background-color:#7cbc32;text-align:center;color:#fff;}"),e.push("#"+a+" .mv_header div{margin-top:#{y5};margin-right:#{y4};width:100%;height:100%;text-align: center;display: table;vertical-align: middle;}"),e.push("#"+a+" .mv_header span{width:100%;height:100%;}"),"h"==f&&e.push("#"+a+" .mv_header{writing-mode: tb-rl;-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;*writing-mode: tb-rl;}"),e.push("#"+a+" .mv_slider{width:#{e1};height:#{e2};margin:#{e3} #{e4};}"),e.push("#"+a+" .mv_itemLink{padding:#{f3} #{f4} #{f5} #{f6};display:block;float:left;}"),e.push("#"+a+" .mv_itemLink.mv_left{padding-right:#{f7};}"),e.push("#"+a+" .mv_item{width:#{f1};height:#{f2};}"),e.push("#"+a+" .mv_imgArea{background-color:#fff;border:#{g3} solid #{itemBdColor};width:#{g1};height:#{g2};position:relative;overflow:hidden;}"),e.push("#"+a+" .mv_itemImg{width:#{h1};height:#{h2};display:table-cell;vertical-align:middle;text-align:center;overflow:hidden;}"),e.push("#"+a+" .mv_itemImg span{vertical-align:middle;*display:inline-block;*height:100%;}"),e.push("#"+a+" .mv_itemImg img{vertical-align:middle;}"),e.push("#"+a+" .mv_price {width:#{i1};height:#{i2};line-height:#{i2};bottom: 0px;left: 0px;background-color:#fff;color:#000;text-align: center;position: absolute;}"),e.push("#"+a+" .mv_price.active {color: #44b04e;}"),e.push("#"+a+" .mv_imgArea.active {border-color: #44b04e;}"),e.push("#"+a+" .mv_price_txt {background-color:#7cbc32;height:#{i9};line-height:#{i9};bottom:#{i2};right:0px;font-size:#{i6};color:#{priceColor};font-weight:#{priceBold};font-family:Arial;position: absolute;text-align: center;border-radius:#{i7};padding-left:#{i7};padding-right:#{i7};"),e.push("#"+a+" .mv_item_mask {display: none;}"),e.push("#"+a+" .mv_itemBg {width:#{l1};height:#{l2};left:#{l3};top:#{l4};position: absolute;background: url("+maskUrl+") no-repeat scroll 0 0 transparent;}"),e.push("#"+a+" .mv_slogan {width:#{m1};height:#{m2};line-height:#{m3};color:#{sloganColor};font-weight:#{sloganBold};font-size: 12px;text-align:center;position:absolute;left:0px;top:0px;}"),e.push("#"+a+" .mv_info_list{width:#{n1};height:#{n2};border:#{n3} solid #{secFrameBgColor};position: absolute;left:0px;top:0px;}"),e.push("#"+a+" .mv_info_item{display:none;}"),e.push("#"+a+" .mv_info_item a {display: block;}"),e.push("#"+a+" .mv_pic_area{width:#{o1};height:#{o2};overflow:hidden;position:relative;}"),e.push("#"+a+" .mv_pic_bg{width:#{o1};height:#{o2};background-color:#FFFFFF;}"),e.push("#"+a+" .mv_pic_content{width:#{p1};height:#{p2};position:absolute;top:#{p3};left:#{p4};z-index:10;}"),e.push("#"+a+" .mv_pic{width:#{p1};height:#{p2};overflow:hidden;display:table-cell;vertical-align:middle;text-align:center;}"),e.push("#"+a+" .mv_pic span{vertical-align:middle;*display:inline-block;*height:100%;}"),e.push("#"+a+" .mv_pic img{vertical-align:middle;}"),e.push("#"+a+" .mv_info_price_mask{width:#{p1};height:22px;position:absolute;left:0px;bottom:0px;background-color:#fff;opacity: 0.8;filter: alpha(opacity=80);}"),e.push("#"+a+" .mv_info_price_txt{width:#{p1};font-size:16px;height:22px;line-height:22px;text-align:center;color:#{priceColor};font-family:Arial;font-weight:#{priceBold};position:absolute;left:0px;bottom:0px;}"),e.push("#"+a+" .mv_descArea{width:#{q1};height:#{q2};line-height:#{q5};padding:#{q3} #{q4};background-color:#{secFrameBgColor};color:#{descColor};text-align:left;overflow:hidden;}"),e.push("#"+a+" .mv_info_desc {font-weight:#{descBold};font-size:14px;height:#{q2};overflow:hidden;word-break:break-all;}"),this.template(e.join(""),i,!0)):""},createCssConfig:function(a,b,c){var e,f,g,d={};switch(d.a3=0,d.a4=c||0,d.z1=d.a1=d.d1=a-2*d.a3,d.z2=d.a2=d.d2=this.blockWidth=b-2*d.a3,d.a5=d.a6=0,d.y3=0,d.y4=0,d.y5=0,this.type){case"h":d.a5=Math.floor(.0625*a)>30?Math.floor(.0625*a):30,d.y3=d.a5/30*9,d.y4=(d.a5-d.y3)/2/1.1;break;case"ss":case"s":break;case"v":d.a6=Math.floor(.1*b)>30?Math.floor(.1*b):30,d.y3=d.a6/30*9,d.y5=(d.a6-d.y3)/2/1.1}return 0===d.a5&&0===d.a6?(d.y1=0,d.y2=0):0!==d.a5?(d.y1=d.a5,d.y2=b):0!==d.a6&&(d.y1=a,d.y2=d.a6),d.a1=d.d1=d.a1-d.a5,d.a2=d.d2=this.blockWidth=d.a2-d.a6,d.e1=d.d1,d.e2=d.d2,d.e3=d.e4=0,d.e5=a-2*d.a4,d.e6=b-2*d.a4,!!(e=this.getOptimumItem(this.type,d.a1,d.a2))&&(this.setPnLength(e),d.f1=d.f2=e,d.f3=d.f4=0,"h"==this.type&&(d.f4=6),d.dh=d.xNum=Math.floor((a-d.a5)/(d.f1+2*d.f4)),d.dv=d.yNum=Math.floor((b-d.a6)/(d.f2+2*d.f3)),d.displayNum=d.dh*d.dv,d.dh&&d.dv&&(f=(d.f1+2*d.f4)*d.dh,g=(d.f2+2*d.f3)*d.dv,d.f6=d.f4+=Math.floor((d.e1-f)/d.dh/2),d.f5=d.f3+=Math.floor((d.e2-g)/d.dv/2),"s"==this.type&&(a-d.a5>b-d.a6?d.f5=d.e2-g:a-d.a5==b-d.a6?(d.f6=d.f4=0,d.f7=d.e1-f):(d.f6=d.f4=0,d.f7=d.e1-f))),d.g3=2,d.g1=d.f1-2*d.g3,d.g2=d.f2-2*d.g3,d.h1=d.imgW=d.g1,d.h2=d.imgH=d.g2,d.i1=d.h1,d.i2=d.i3=18,d.i4=d.i5=0,d.i6=12,d.i9=Math.floor(1.2*d.i6),d.i7=Math.floor(d.i2/5),d.l1=d.h1,d.l2=d.h2,d.l3=d.l4=0,d.m1=d.g1,d.m2=d.m3=d.g2,d.n3=2,d.n1=d.d1-2*d.n3,d.n2=d.d2-2*d.n3,d.o1=d.n1,d.q2=Math.floor(.25*d.n2),d.o2=d.n2-d.q2,d.p1=Math.min(d.o1,d.o2),d.p1=d.p2=d.bimgW=d.bimgH=Math.floor(.9*d.p1),d.p3=Math.floor((d.o2-d.p2)/2),d.p4=Math.floor((d.o1-d.p1)/2),d.q3=5,d.q4=10,d.q2=d.q2-2*d.q3,d.q1=d.o1-2*d.q4,d.q2>28?d.q5=Math.floor(d.q2/2):(d.q3=2,d.q4=2,d.q2=d.q5=d.q2+6,d.q1=d.o1-2*d.q4),d)},getLayoutType:function(a,b){var d,c=a/b;return c>1.5?"h":c<=1.5&&c>=.5?(d=Math.min(a,b),d<150&&d>=90?"ss":"s"):c<.5?"v":void 0},verifyWH:function(a,b,c){if(b>1e3||c>600)return!1;switch(a){case"h":return!(b<90||c<90);case"s":case"ss":return!(b<90||c<90);case"v":return!(b<90||c<90);default:return!1}},getOptimumItem:function(a,b,c){switch(a){case"h":return parseInt(c);case"ss":return parseInt(Math.min(b,c));case"v":return parseInt(Math.min(b,c));case"s":return b>c?Math.floor(.993*c/2):Math.floor(.993*b/2)}},setPnLength:function(a){a&&(a<=100?this.pnLength=7:a<=150?this.pnLength=8:a<=200?this.pnLength=13:a<=250?this.pnLength=19:a<=300?this.pnLength=13:a<=350?this.pnLength=17:a<=400?this.pnLength=32:this.pnLength=36)},viewType:{0:"猜你喜欢",1:"关注",3:"推荐",4:"推荐",6:"热卖",7:"关注"},fixQuirks:function(a){"BackCompat"==document.compatMode&&util.browser.ie&&(util.browser.ie<9||document.documentMode<9)&&(a.a1+=2*a.a3,a.a2+=2*a.a3,a.g1+=2*a.g3,a.g2+=2*a.g3,a.n1+=2*a.n3,a.n2+=2*a.n3,a.q1+=2*a.q4,a.q2+=2*a.q3)}},util={G:function(a){return document.getElementById(a)},parse:function(str){return window.JSON?JSON.parse(str):eval("("+str+")")},stringify:function(a){if(window.JSON)return JSON.stringify(a);var b=typeof a;if("object"!=b||null===a)return"string"==b&&(a='"'+a+'"'),String(a);var c,d,e=[],f=a&&a.constructor==Array,g=arguments.callee;for(c in a)d=a[c],b=typeof d,a.hasOwnProperty(c)&&("string"==b?d='"'+d+'"':"object"==b&&null!==d&&(d=g(d)),e.push((f?"":'"'+c+'":')+String(d)));return(f?"[":"{")+String(e)+(f?"]":"}")},getByClass:function(a,b){if(b=b||document,b.getElementsByClassName)return b.getElementsByClassName(a);for(var c=[],d=b.getElementsByTagName("*"),e=0,f=d.length;e<f;e++)this.hasClass(d[e],a)&&c.push(d[e]);return c},hasClass:function(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1},addClass:function(a,b){this.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},removeClass:function(a,b){this.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},browser:function(){var a=navigator.userAgent.toLowerCase().match(/msie ([\w.]+)/);return{ie:a&&a[1]}}(),trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},getFixedText:function(a,b,c){var d=a.split(""),e=0,f=.6,g="",h=d.length;if(h>0)for(var i=0;i<h;i++){if(e+=/[\x20-\x7E]/i.test(d[i])?f:1,e>b)return c&&(g=g.slice(0,-1)+c),g;g+=d[i]}return g},transferNCR:function(a){if("[object Array]"===Object.prototype.toString.apply(a))for(var b=0;b<a.length;b++)for(var c in a[b])"[object Array]"===Object.prototype.toString.apply(a[b][c])?a[b][c]=this.transferNCRStr(util.stringify(a[b][c])):a[b][c]&&a[b][c].length>0&&!/url/.test(c)&&(a[b][c]=this.transferNCRStr(a[b][c]));else a=this.transferNCRStr(a);return a},transferNCRStr:function(a){return a},trimText:function(a){return a=a.replace(/[\ |\~|\`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\-|\_|\+|\=|\||\\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|，|、]/g,"")},fixPrice:function(a,b){return a+="",a.length>6&&!(7===a.length&&a.indexOf(".")>-1)&&(a=""+parseInt(a),a.length>6&&(a=a.slice(0,-4),b?a+="万":a=(parseInt(a)/100).toFixed(2)+"M")),a},monitorClick:function(a,b,c,d){function f(a){var f=util.getMousePosition(a,e),g=util.combineHeatmapUrl(b);return g+="&wh="+c+"x"+d+"&x="+f.left+"&y="+f.top,util.request(g),!0}var e=util.G(a);e.addEventListener?e.addEventListener("click",f,!1):e.attachEvent("onclick",f)},trackClick:function(a,b){function e(a){var a=a,b=this;return function(){var c=b.id||this.id;c=parseInt(c);for(var d in a)if(c===parseInt(a[d].slot)){var e=a[d].clktk;break}if("undefined"!=typeof e&&e!==!1)for(var f=util.parse(e),d=0;d<f.length;d++)util.request(f[d]);return!0}}for(var c=util.G(a),d=c.getElementsByTagName("img"),f=0;f<d.length;f++)d[f].onclick=e(b)},trackImp:function(a,b,c){function f(a){var a=a,b=this;return function(){var c=b.id||this.id;c=parseInt(c);for(var d in a)if(c===parseInt(a[d].slot)){var e=a[d].imptk;break}if("undefined"!=typeof e&&e!==!1)for(var e=util.parse(e),d=0;d<e.length;d++)util.request(e[d])}}for(var d=util.G(a),e=d.getElementsByTagName("img"),g=[],h=0;h<e.length;h++){var i=parseInt(e[h].id);for(var j in b)if(i===parseInt(b[j].slot)){g.push(b[j].imparg);break}e[h].onload=f(b)}if(g.length>0){g=g.join(".");var k=c+g;util.request(k)}},getMousePosition:function(a,b){var c,d,e,f=document.documentElement,g=document.body;return d=a.pageX||a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0),e=a.pageY||a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0),c=this.getOffset(b),{top:Math.round(e-c.top),left:d-c.left}},getOffset:function(a){var b=document.documentElement,c=document.body,d={top:0,left:0};return void 0!==typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect()),{top:d.top+(window.pageYOffset||b.scrollTop||c.scrollTop),left:d.left+(window.pageXOffset||b.scrollLeft||c.scrollLeft)}},combineHeatmapUrl:function(a){var b="http://view.mediav.com/v?type=12&db=mediav",c=this.getQueryString(a,"oimpid")||this.getQueryString(a,"impid"),d=this.getQueryString(a,"pub"),e=this.getQueryString(a,"cus");return b+"&impid="+c+"&pub="+d+"&cus="+e},getQueryString:function(a,b){var c=new RegExp("(^|&)"+b+"=([^&]*)(&|$)","i"),d=a.substr(1).match(c);return null!=d?unescape(d[2]):null},request:function(a){var b=document.createElement("img");b.src=a,b.style.display="none",document.body.appendChild(b),setTimeout(function(){document.body.removeChild(b)},1e3)},shuffle:function(a){var b,c,d;for(d=a.length;d;d--)b=Math.floor(Math.random()*d),c=a[d-1],a[d-1]=a[b],a[b]=c;return a}}}();